id: "task-yahoo-mail-organize"
name: "Login and organize Yahoo Mail"
type: "composite"
goal: "Log in to Yahoo Mail and clean junk by deleting spam and organizing the mailbox."
definition_of_done: "Yahoo Mail inbox cleaned with junk deleted, spam emptied, important emails organized, and session signed out."
stop_rules:
  max_attempts: 3
  max_minutes: 45
  max_tool_calls: 120
on_fail: "escalate"
steps:
  - id: "step-open-yahoo-mail"
    name: "Open Yahoo Mail"
    type: "browser"
    goal: "Launch Yahoo Mail in the browser and reach the sign-in page."
    url: "https://mail.yahoo.com"
    definition_of_done: "Yahoo Mail sign-in or inbox page loaded without blocking errors."
    stop_rules:
      max_attempts: 3
      max_minutes: 10
      max_tool_calls: 20
    on_fail: "escalate"
  - id: "step-login-yahoo-mail"
    name: "Sign in"
    type: "browser"
    goal: "Authenticate to Yahoo Mail using provided credentials and reach the inbox."
    url: "https://mail.yahoo.com"
    definition_of_done: "Inbox view visible with folders and message list after successful login."
    stop_rules:
      max_attempts: 3
      max_minutes: 10
      max_tool_calls: 30
    on_fail: "escalate"
  - id: "step-triage-inbox"
    name: "Triage inbox and delete junk"
    type: "browser"
    goal: "Identify promotional or junk emails in the inbox and delete or move them appropriately."
    url: "https://mail.yahoo.com"
    definition_of_done: "Inbox cleared of obvious junk and unwanted promotional messages moved to Trash or Spam."
    stop_rules:
      max_attempts: 3
      max_minutes: 15
      max_tool_calls: 30
    on_fail: "escalate"
  - id: "step-clean-spam-trash"
    name: "Empty Spam and Trash"
    type: "browser"
    goal: "Review Spam and Trash folders to ensure junk is removed and permanently delete junk."
    url: "https://mail.yahoo.com"
    definition_of_done: "Spam and Trash emptied or reduced to only items intentionally retained."
    stop_rules:
      max_attempts: 2
      max_minutes: 10
      max_tool_calls: 20
    on_fail: "escalate"
  - id: "step-organize-important"
    name: "Organize important mail"
    type: "browser"
    goal: "Move important messages into folders, apply labels or stars, and create filters when helpful."
    url: "https://mail.yahoo.com"
    definition_of_done: "Important messages organized into target folders with relevant labels or stars and filters created when applicable."
    stop_rules:
      max_attempts: 3
      max_minutes: 15
      max_tool_calls: 30
    on_fail: "escalate"
  - id: "step-confirm-and-signout"
    name: "Confirm and sign out"
    type: "browser"
    goal: "Verify inbox remains clean, key mail organized, and sign out of Yahoo Mail."
    url: "https://mail.yahoo.com"
    definition_of_done: "Inbox stays organized after refresh and session signed out successfully."
    stop_rules:
      max_attempts: 2
      max_minutes: 10
      max_tool_calls: 20
    on_fail: "escalate"
